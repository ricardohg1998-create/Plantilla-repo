# M8: CI Setup (Github Actions)

## OBJETIVO (OBJ)
Automatizar la validación en la nube para asegurar que "en mi máquina funciona" no sea una excusa.

## ALCANCE (ALC)
- Configuración de `.github/workflows/ci.yml`.
- Checks de calidad, seguridad y build.

## PASOS
1.  **Pipeline Básico**:
    - Trigger: Push a `main` y Pull Requests.
    - Jobs:
        - `install`: Cache de `node_modules`.
        - `lint`: ESLint + Prettier.
        - `typecheck`: TSC.
        - `test`: Vitest.
        - `build`: Build de producción (Next o Vite).
2.  **Checks Avanzados (Opcional)**:
    - Lighthouse CI (Action) para performance budget.
    - Tamaño del bundle (Action).
3.  **Protección de Ramas**:
    - Documentar cómo configurar reglas de protección en GitHub (Require CI to pass).

## CRITERIOS DE ACEPTACIÓN (AC)
- [ ] El CI pasa en verde para el estado actual del repo (clean slate).
- [ ] Si rompo un test o meto un error de tipo, el CI falla.
- [ ] Tiempo de ejecución razonable (< 5 min).

## EJECUCIÓN (EJ)
YAML estándar de GitHub Actions optimizado para monorepo/workspaces.

## RIESGOS
- Falsos positivos en tests que bloqueen merges.
- Consumo excesivo de minutos de Actions si no se configura caché.
