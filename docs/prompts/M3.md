# M3: Stack Profiles & Starter "Producto"

## OBJETIVO (OBJ)
Implementar la arquitectura de monorepo o multi-perfil, configurando los starters de Next.js y Vite que consuman el núcleo compartido.

## ALCANCE (ALC)
- Reestructuración de carpetas (`starters/next`, `starters/vite`).
- Configuración de espacios de trabajo (workspaces) o scripts de gestión.
- Integración del `project-brief` y `select-stack` en el flujo de inicialización.

## PASOS
1.  **Estructura de Directorios**:
    - Mover código actual (si es Next.js) a `starters/next`.
    - Crear scaffold básico para `starters/vite`.
    - Crear carpeta `shared` para: tokens de diseño, hooks comunes, utilidades, tipos.
    - Actualizar `package.json` raíz para gestionar workspaces (si se usa npm/yarn/pnpm workspaces) o scripts de orquestación.
2.  **Refinamiento del Script de Selección**:
    - Asegurar que `scripts/select-stack.mjs` no solo recomiende, sino que pueda (opcionalmente) iniciar el setup:
        - "Do you want to initialize the Next.js starter?" -> Copia archivos de `starters/next` a una carpeta de salida o prepara el entorno.
3.  **Configuración Base de Starters**:
    - **Next.js**: App Router, configuración de TS estricta, integración con `shared`.
    - **Vite**: React, configuración de TS estricta, integración con `shared`.

## CRITERIOS DE ACEPTACIÓN (AC)
- [ ] Estructura `starters/next`, `starters/vite`, `shared` creada.
- [ ] Ambos starters compilan ("Hello World") importando algo de `shared`.
- [ ] El script `select-stack.mjs` es capaz de identificar qué starter se recomienda.
- [ ] No hay código duplicado masivo (DRY en la medida de lo razonable).

## EJECUCIÓN (EJ)
```bash
# Ejemplo de estructura
/
  project-brief.md
  scripts/
  shared/
    ui/
    tokens/
  starters/
    next/
    vite/
```

## RIESGOS
- Complejidad en la gestión de dependencias compartidas (version mismatch).
- Romper el entorno de desarrollo actual del usuario si no se migra con cuidado.
- **Mitigación**: Hacer backup antes de mover carpetas.
